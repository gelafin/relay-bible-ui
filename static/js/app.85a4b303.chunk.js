(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return He}));var r=n(0),o=n(2),c=n(3),s=n(254),i=n(255),a=n(93),l=n(5),u=n.n(l),d=n(256),b="#FFF",j="#DADADA",h="#EEE",p="#FCF2D8",f="red",O="blue",x=o.a.create({page:{flex:1,backgroundColor:b},pageMargins:{marginLeft:"20px",marginRight:"20px",flex:1},container:{flex:1},horizontalContainer:{justifyContent:"flex-start",flexDirection:"row"},verticalContainer:{flexDirection:"column"},centerAlign:{alignItems:"center"},centerJustify:{justifyContent:"center"},verticalCenter:{alignItems:"center"},absolute:{position:"absolute"},appBar:{backgroundColor:h},appBarBold:{backgroundColor:j},appBarSmall:{height:"fit-content",paddingTop:"10px",paddingBottom:"10px"},appBarSmallText:{fontSize:"1rem"},readingPage:{backgroundColor:p},listSelectOption:{padding:20,cursor:"pointer"},listSelectOptionSelected:{backgroundColor:p},modalContainerStyle:{backgroundColor:b,padding:20,width:"80vw",marginLeft:"auto",marginRight:"auto",height:"100%"},inline:{display:"inline"},drawer:{position:"fixed",bottom:0,width:"100vw",height:"250px",backgroundColor:b,padding:"10px 30px",zIndex:100,boxShadow:"rgb(0 0 0 / 60%) 0px -4px 4px 2px"},fullScreenHeight:{height:"100vh"},fullWidth:{width:"100%"}}),m=(x.horizontalContainer,x.centerJustify,x.absolute,n(1)),g=function(e){var t=e.headingText,n=e.onFilterPress,r=e.onNewPress;return Object(m.jsxs)(d.a.Header,{style:x.appBarBold,children:[Object(m.jsx)(d.a.Content,{title:t}),r&&Object(m.jsx)(d.a.Action,{icon:"plus",onPress:r}),n&&Object(m.jsx)(d.a.Action,{icon:"filter",onPress:n})]})},C=n(177),v=n(15),P=function(e){var t=e.label;return Object(m.jsx)(v.a,{children:Object(m.jsx)("b",{children:t})})};function S(e){var t=e.label,n=e.onSubmit,o=e.initialValue,s=e.inputComponent,i=e.inputComponentProps,a=Object(r.useState)("edit"),l=u()(a,2),d=l[0],b=l[1],j=Object(r.useState)({}),h=u()(j,2),p=h[0],f=h[1],O=Object(r.useState)(o),x=u()(O,2),g=x[0],v=x[1];Object(r.useEffect)((function(){b("edit")}),[]),Object(r.useEffect)((function(){f({icon:S[d],onPress:w[d]})}),[d]);var S={edit:"pencil",save:"content-save"},w={edit:null,save:E},E=function(){n(g),b("edit")},k=s;return Object(m.jsxs)(c.a,{children:[Object(m.jsx)(P,{label:t}),Object(m.jsxs)(c.a,{style:[y.container,y.verticalCenter],children:[Object(m.jsx)(k,{handleChange:function(e){v(e),b("save")},currentValue:g,otherProps:i}),Object(m.jsx)(C.a,{icon:p.icon,mode:"text",onPress:E,style:y.iconButton})]})]})}var y=o.a.create({container:{flex:1,flexFlow:"row wrap",justifyContent:"flex-start"},verticalCenter:{alignItems:"center"},iconButton:{height:"fit-content",width:"fit-content"}}),w=n(165),E=o.a.create({default:{padding:"5px",backgroundColor:"#eee",borderRadius:"5px",height:"fit-content"}}),k=function(e){var t=e.handleChange,n=e.currentValue,o=e.flexValue,c=e.multiline,s=e.autoHeight,i=e.numberOfLines,a=e.isFocused,l=e.onFocus,d=e.onBlur,b=Object(r.useRef)(null),j=Object(r.useState)(32),h=u()(j,2),p=(h[0],h[1],Object(r.useState)(!0)),f=u()(p,2),O=(f[0],f[1]);Object(r.useEffect)((function(){return O(!i&&s)}),[i,s]);return Object(r.useEffect)((function(){var e=(null==n?void 0:n.length)||0;null!=b&&b.current&&a&&(b.current.focus(),b.current.setSelectionRange(e,e))}),[a,b]),Object(m.jsx)(w.a,{ref:b,onChangeText:t,value:n,style:[E.default,o&&{flex:o,alignItems:"stretch"}],multiline:c,numberOfLines:i,onFocus:l,onBlur:d})},N=n(117),V=function(e){var t=e.handleChange,n=e.currentValue,r=e.otherProps,o=u()(r,1)[0];return Object(m.jsx)(N.a,{onValueChange:function(e){t(e)},selectedValue:n,style:E.default,children:o.map((function(e){return Object(m.jsx)(N.a.Item,{label:e.label,value:e.value},e.value)}))})},T=function(e){var t=e.label,n=e.children;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{label:t}),Object(m.jsx)(c.a,{style:[D.border,D.padding],children:n})]})},D=o.a.create({border:{borderColor:"#e5e5e5",borderLeftWidth:"1px"},padding:{paddingLeft:"10px"}}),R=function(e){var t=e.children,n=e.customPageStyle;return Object(m.jsx)(c.a,{style:[x.page,n],children:Object(m.jsx)(c.a,{style:x.pageMargins,children:t})})},B=n(259),L=o.a.create({default:{padding:"5px",backgroundColor:O,borderRadius:"5px",width:"fit-content",cursor:"pointer"},defaultLabel:{color:b},warningLabel:{color:f},warning:{backgroundColor:b,borderColor:f},chip:{padding:0,borderRadius:"20px"},transparent:{backgroundColor:""}}),A=o.a.create({iconButton:{height:"fit-content",width:"fit-content"}}),F=function(e){var t=e.onPress,n=e.children;return Object(m.jsx)(B.a,{icon:"delete",mode:"outlined",style:[L.default,L.warning],labelStyle:L.warningLabel,onPress:t,children:n})},I=n(258),M=n(260),z=n(257),J=n(253),G=function(e){var t=e.title,n=e.description,r=e.shouldShowDialog,o=e.setShouldShowDialog,c=e.onConfirm,s=e.onCancel,i=function(){return o(!1)};return Object(m.jsx)(I.a,{children:Object(m.jsx)(M.a,{children:Object(m.jsxs)(z.a,{visible:r,onDismiss:i,children:[Object(m.jsx)(z.a.Title,{children:t}),Object(m.jsx)(z.a.Content,{children:Object(m.jsx)(J.a,{children:n})}),Object(m.jsxs)(z.a.Actions,{children:[Object(m.jsx)(B.a,{onPress:function(){i(),c()},children:"Confirm"}),Object(m.jsx)(B.a,{onPress:function(){i(),s&&s()},children:"Cancel"})]})]})})})},H=function(e){var t=e.headingText,n=e.customHeadingComponent;return Object(m.jsx)(d.a.Header,{style:[x.appBar,x.appBarSmall],children:n||Object(m.jsx)(d.a.Content,{title:t,titleStyle:x.appBarSmallText})})},_=n(13),U=n.n(_),W=n(9),Y=n.n(W),q=n(38),Z=n(92),K=n.n(Z),X=o.a.create({superscript:{fontSize:"0.7rem"},plain:{color:"black"},listSelectOption:{fontSize:32},selectedVerse:{borderBottomColor:O,borderBottomWidth:"2px"}}),Q=function(e){var t=e.onPress,n=e.label;return Object(m.jsx)(B.a,{mode:"outlined",uppercase:!1,style:[L.default,L.chip,L.transparent],labelStyle:X.plain,onPress:t,children:n})},$=n(166),ee=n(86),te={Genesis:{chapterCount:50,order:1},Exodus:{chapterCount:40,order:2},Leviticus:{chapterCount:27,order:3},Numbers:{chapterCount:36,order:4},Deuteronomy:{chapterCount:34,order:5},Joshua:{chapterCount:24,order:6},Judges:{chapterCount:21,order:7},Ruth:{chapterCount:4,order:8},"1 Samuel":{chapterCount:31,order:9},"2 Samuel":{chapterCount:24,order:10},"1 Kings":{chapterCount:22,order:11},"2 Kings":{chapterCount:25,order:12},"1 Chronicles":{chapterCount:29,order:13},"2 Chronicles":{chapterCount:36,order:14},Ezra:{chapterCount:10,order:15},Nehemiah:{chapterCount:13,order:16},Esther:{chapterCount:10,order:17},Job:{chapterCount:42,order:18},Psalms:{chapterCount:150,order:19},Proverbs:{chapterCount:31,order:20},Ecclesiastes:{chapterCount:12,order:21},"Song of Solomon":{chapterCount:8,order:22},Isaiah:{chapterCount:66,order:23},Jeremiah:{chapterCount:52,order:24},Lamentations:{chapterCount:5,order:25},Ezekiel:{chapterCount:48,order:26},Daniel:{chapterCount:12,order:27},Hosea:{chapterCount:14,order:28},Joel:{chapterCount:3,order:29},Amos:{chapterCount:9,order:30},Obadiah:{chapterCount:1,order:31},Jonah:{chapterCount:4,order:32},Micah:{chapterCount:7,order:33},Nahum:{chapterCount:3,order:34},Habakkuk:{chapterCount:3,order:35},Zephaniah:{chapterCount:3,order:36},Haggai:{chapterCount:2,order:37},Zechariah:{chapterCount:14,order:38},Malachi:{chapterCount:4,order:39},Matthew:{chapterCount:28,order:40},Mark:{chapterCount:16,order:41},Luke:{chapterCount:24,order:42},John:{chapterCount:21,order:43},Acts:{chapterCount:28,order:44},Romans:{chapterCount:16,order:45},"1 Corinthians":{chapterCount:16,order:46},"2 Corinthians":{chapterCount:13,order:47},Galatians:{chapterCount:6,order:48},Ephesians:{chapterCount:6,order:49},Philippians:{chapterCount:4,order:50},Colossians:{chapterCount:4,order:51},"1 Thessalonians":{chapterCount:5,order:52},"2 Thessalonians":{chapterCount:3,order:53},"1 Timothy":{chapterCount:6,order:54},"2 Timothy":{chapterCount:4,order:55},Titus:{chapterCount:3,order:56},Philemon:{chapterCount:1,order:57},Hebrews:{chapterCount:13,order:58},James:{chapterCount:5,order:59},"1 Peter":{chapterCount:5,order:60},"2 Peter":{chapterCount:3,order:61},"1 John":{chapterCount:5,order:62},"2 John":{chapterCount:1,order:63},"3 John":{chapterCount:1,order:64},Jude:{chapterCount:1,order:65},Revelation:{chapterCount:22,order:66}},ne=n(167),re=function(e){var t=e.label,n=e.onPress,r=e.isSelected;return Object(m.jsx)(ne.a,{style:[x.listSelectOption,r&&x.listSelectOptionSelected],onPress:n,children:Object(m.jsx)(v.a,{style:X.listSelectOption,children:t})})},oe=function(e){var t=e.visible,n=e.setVisible,o=e.onChapterSelect,s=e.initialBookName,i=e.initialChapterNumber,a=Object(r.useState)(s),l=u()(a,2),d=l[0],b=l[1],j=Object(r.useState)(i),h=u()(j,2),p=h[0],f=h[1],O=Object(r.useState)(0),g=u()(O,2),C=g[0],v=g[1],P=Object(r.useState)(),S=u()(P,2),y=S[0],w=S[1],E=function(){p||(b(s),f(i)),n(!1)},k=Object.keys(te).map((function(e){return{bookName:e}})),N=C&&U()(Array(C).keys()).map((function(e){return{chapterNumber:++e}}));Object(r.useEffect)((function(){var e;v(null==(e=te[d])?void 0:e.chapterCount),d===s?w(i):(f(null),w(null))}),[d]),Object(r.useEffect)((function(){p!==i&&w(p),p&&(E(),o({book:d,chapter:p}))}),[p]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(M.a,{children:Object(m.jsx)($.a,{visible:t,onDismiss:E,contentContainerStyle:x.modalContainerStyle,children:Object(m.jsxs)(c.a,{style:[x.page,x.horizontalContainer],children:[Object(m.jsx)(ee.a,{data:k,renderItem:function(e){var t=e.item;return Object(m.jsx)(re,{label:t.bookName,onPress:function(){return b(t.bookName)},isSelected:t.bookName===d})},keyExtractor:function(e){return e.bookName}}),Object(m.jsx)(ee.a,{data:N,renderItem:function(e){var t=e.item;return Object(m.jsx)(re,{label:t.chapterNumber,onPress:function(){return f(t.chapterNumber)},isSelected:t.chapterNumber===y})},keyExtractor:function(e){return e.chapterNumber}})]})})})})},ce=n(175),se=function(e){var t=e.verseText,n=e.verseNumber,r=e.onVersePress,o=e.isSelected;return Object(m.jsx)(ce.a,{style:x.inline,onPress:function(){r({text:t,number:n})},children:Object(m.jsxs)(v.a,{style:[X,o&&X.selectedVerse],children:[Object(m.jsx)(v.a,{style:X.superscript,children:n}),Object(m.jsx)(v.a,{children:" "+t+" "})]})})},ie=function(e){var t=e.isOpen,n=e.children,r=e.minimize;return Object(m.jsx)(m.Fragment,{children:t&&Object(m.jsx)(c.a,{style:[x.drawer,!r&&x.fullScreenHeight],children:n})})},ae=function(e){var t=e.onPress,n=e.children;return Object(m.jsx)(B.a,{mode:"contained",style:L.default,labelStyle:L.defaultLabel,onPress:t,children:n})},le=function(e){var t=e.onRelatedNotesPress,n=e.onRelatedCommentaryPress;return Object(m.jsx)(c.a,{children:Object(m.jsxs)(c.a,{style:[x.horizontalContainer,{alignSelf:"flex-end"}],children:[Object(m.jsx)(ae,{onPress:t,children:"Related Notes"}),Object(m.jsx)(ae,{onPress:n,children:"Related Commentary"})]})})},ue="chevron-up",de="chevron-down",be={HIDDEN:"transparent",DEFAULT:L.default.backgroundColor},je=function(e){var t=e.onPress,n=e.isInitiallyUp,o=e.hide,c=Object(r.useState)(n),s=u()(c,2),i=s[0],a=s[1],l=Object(r.useState)(),d=u()(l,2),b=d[0],j=d[1],h=Object(r.useState)(!0),p=u()(h,2),f=p[0],O=p[1];return Object(r.useEffect)((function(){O(o),j(o?be.HIDDEN:be.DEFAULT)}),[o]),Object(m.jsx)(C.a,{icon:i?ue:de,size:20,onPress:function(){a(!i),t()},color:b,iconColor:b,disabled:f,style:o&&{pointerEvents:"none"}})},he=function(e){var t=e.onPress;return Object(m.jsx)(C.a,{icon:"close",size:20,onPress:t})},pe=function(e){var t=e.contextHeaderText,n=e.onClosePress,r=e.onExpandPress,o=Object(m.jsx)(he,{onPress:n,style:!n&&{visibility:"hidden"}}),s=Object(m.jsx)(je,{onPress:r,isInitiallyUp:!0,hide:!r});return Object(m.jsxs)(c.a,{style:[x.horizontalContainer,{justifyContent:"space-between",marginLeft:"10px",marginRight:"10px"}],children:[Object(m.jsx)(v.a,{children:t}),o,s]})},fe=function(e){var t=e.headerText,n=e.onClosePress,r=e.onExpandPress,o=e.children;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(pe,{contextHeaderText:t,onClosePress:n,onExpandPress:r}),o]})},Oe=n(6),xe=n.n(Oe);function me(e,t,n){return{bookName:e,chapterNumber:""+t,verseNumber:""+n,reference:e+" "+t+":"+n,equals:function(e){return this.bookName===e.bookName&&this.chapterNumber===e.chapterNumber&&this.verseNumber===e.verseNumber}}}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){var t,n=e.setShouldShowDialog,o=e.onSubmit,c=e.onCancel,s=e.initialNoteData,i=Object(r.useState)(s||{}),a=u()(i,2),l=a[0],d=a[1],b=function(){return n(!1)};return Object(m.jsx)(I.a,{children:Object(m.jsx)(M.a,{children:Object(m.jsxs)(z.a,{visible:!0,onDismiss:b,children:[Object(m.jsxs)(z.a.Title,{children:[Object(m.jsx)(P,{label:"title"}),Object(m.jsx)(k,{currentValue:(null==l?void 0:l.title)||"",handleChange:function(e){return d(Ce(Ce({},l),{},{title:e}))}})]}),Object(m.jsxs)(z.a.Content,{children:[Object(m.jsx)(k,{currentValue:(null==l?void 0:l.body)||"",handleChange:function(e){return d(Ce(Ce({},l),{},{body:e}))},autoHeight:!0,multiline:!0}),Object(m.jsx)(P,{label:"link to verses"}),Object(m.jsx)(J.a,{children:"csv text only for now, because time. Use comma-space"}),Object(m.jsx)(k,{currentValue:null==l||null==(t=l.linkedVerses)?void 0:t.join(", "),handleChange:function(e){return d(Ce(Ce({},l),{},{linkedVerses:e.split(", ")}))},autoHeight:!0,multiline:!0})]}),Object(m.jsxs)(z.a.Actions,{children:[Object(m.jsx)(B.a,{onPress:function(){b();var e=l.linkedVerses.map((function(e){return me(e.split(" ")[0],e.split(" ")[1].split(":")[0],e.split(":")[1])})),t=Ce(Ce({},l),{},{linkedVerses:e});console.log("submitting edited/new note ",t),o(t)},children:"Create"}),Object(m.jsx)(B.a,{onPress:function(){b(),c&&c()},children:"Cancel"})]})]})})})},Pe=function(e){var t=e.onPress;return Object(m.jsx)(C.a,{icon:"content-save",mode:"text",onPress:t,style:A})},Se=function(e){var t=e.onPress;return Object(m.jsx)(C.a,{icon:"pencil",mode:"text",onPress:t,style:A})},ye=function(e){var t=e.onPress;return Object(m.jsx)(C.a,{icon:"delete",labelStyle:L.warningLabel,onPress:t})},we=function(e){var t=e.onPress;return Object(m.jsx)(C.a,{icon:"undo",mode:"text",onPress:t,style:A})},Ee=function(e){var t=e.noteId,n=e.title,o=e.body,s=e.linkedVerseReferences,i=e.isPublic,a=e.deleteMe,l=Object(r.useState)(o),d=u()(l,2),b=d[0],j=d[1],h=Object(r.useState)(!1),p=u()(h,2),f=p[0],O=p[1],g=Object(r.useState)(!1),C=u()(g,2),S=C[0],y=C[1],w=Object(r.useState)(!1),E=u()(w,2),N=E[0],V=E[1],T=Object(r.useState)(!0),D=u()(T,2),R=D[0],B=D[1],L=Object(r.useState)(2),A=u()(L,2),F=A[0],I=A[1],M=function(e){console.log(e&&"DEBUG: showing edit button"),console.log(!e&&"DEBUG: showing delete button"),B(e),V(!e)},z=function(){console.log("focus input component"),y(!0)},J=function(){console.log("saving note with body ",b),O(!1)},G=function(){console.log("resetting note body to prop/db version"),j(o),O(!1)};return Object(r.useEffect)((function(){I(S?5:2)}),[S]),Object(m.jsxs)(c.a,{children:[Object(m.jsx)(P,{label:n}),Object(m.jsxs)(c.a,{style:[x.container,x.horizontalContainer],children:[Object(m.jsxs)(c.a,{style:[x.container,x.verticalContainer],children:[Object(m.jsx)(k,{style:{minWidth:"50%"},handleChange:function(e){j(e),O(!0)},currentValue:b,flexValue:1,multiline:!0,numberOfLines:F,isFocused:S,onFocus:function(){M(!1),y(!0)},onBlur:function(){setTimeout((function(){return M(!0)}),200),y(!1)}}),Object(m.jsx)(v.a,{style:{fontStyle:"italic"},children:s.join(" ")}),i&&Object(m.jsx)(v.a,{style:{fontStyle:"italic"},children:"public"})]}),Object(m.jsxs)(c.a,{style:[x.horizontalContainer,{flexWrap:"wrap",maxWidth:"min-content"}],children:[R&&Object(m.jsx)(Se,{onPress:function(){z()}}),f&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(we,{onPress:function(){G(),M(!0)}}),Object(m.jsx)(Pe,{onPress:function(){J(),M(!0)}})]}),N&&Object(m.jsx)(ye,{onPress:function(){console.log("deleting note with body ",b),a(t)}})]})]})]})},ke=function(e){var t=e.notes,n=e.deleteNote;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(Ee,{noteId:e.id,title:e.title,body:e.body,linkedVerseReferences:e.linkedVerses.map((function(e){return e.reference})),isPublic:e.isPublic,deleteMe:n},e.id)}))})};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=[me("Matthew",5,5)],De=function(e){var t,n=e.setShouldShowDialog,o=e.onCancel,s=e.filterSettings,i=e.setFilterSettings,a=Object(r.useState)(),l=u()(a,2),d=(l[0],l[1],function(){return n(!1)});return Object(m.jsx)(I.a,{children:Object(m.jsx)(M.a,{children:Object(m.jsxs)(z.a,{visible:!0,onDismiss:d,children:[Object(m.jsx)(z.a.Title,{children:Object(m.jsx)(v.a,{children:"Filters"})}),Object(m.jsxs)(z.a.Content,{children:[Object(m.jsx)(P,{label:"Related verses"}),Object(m.jsx)(v.a,{children:"TODO: button here to open verse selection modal, which will call handleRelatedVersesChange"}),Object(m.jsx)(c.a,{children:null==s||null==(t=s.selectedVerses)?void 0:t.map((function(e){return Object(m.jsx)(v.a,{children:e.reference},e.reference)}))}),!(null!=s&&s.selectedVerses)||s.selectedVerses.length<1&&Object(m.jsx)(v.a,{children:"none"}),Object(m.jsx)(v.a,{children:"filterSettings.selectedVerses... SAME EXACT expression as correctly updating js: "}),Object(m.jsx)(J.a,{children:JSON.stringify(null==s?void 0:s.selectedVerses)})]}),Object(m.jsxs)(z.a.Actions,{children:[Object(m.jsx)(B.a,{onPress:function(){return e=Te,console.log("filter modal: setting new filter settings ",Ve(Ve({},s),{},{selectedVerses:U()(e)})),void i((function(t){return Ve(Ve({},t),{},{selectedVerses:U()(e)})}));var e},children:"Test Selected Verses"}),Object(m.jsx)(B.a,{onPress:function(){console.log("filter modal: *keeping filter settings ",s),d()},children:"Apply"}),Object(m.jsx)(B.a,{onPress:function(){d(),o&&o()},children:"Cancel"})]})]})})})},Re=function(e){var t,n,r,o="";if(!e||(null==e?void 0:e.length)<1)return o;var c=null==(t=e[0])?void 0:t.bookName,s=null==(n=e[0])?void 0:n.chapterNumber,i=null==(r=e[0])?void 0:r.verseNumber;return c&&s&&i&&(o=c+" "+s+":"+i),o+=(null==e?void 0:e.length)>1?" etc":""},Be=[{id:"1",title:"Note Title Abc",body:"I think this verse is cool because a comparison can be made between the symbolism of the metaphors of both passages insofar that one applies best practices of exegesis and hermeneutics.",linkedVerses:[me("Revelation",2,5)],isPublic:!0},{id:"2",title:"Note Title 2",body:"Glory be",linkedVerses:[me("Genesis",1,10)],isPublic:!1},{id:"3",title:"My Note Title",body:"I think this passage is pretty nice.",linkedVerses:[me("Genesis",14,2),me("Psalms",145,100),me("Zechariah",1,3),me("Matthew",5,5)],isPublic:!0},{id:"4",title:"Grocery list",body:"Captain Crunch Berries\nCaptain Crunch Chocolate\nCaptain Crunch Peanut Butter",linkedVerses:[],isPublic:!0}];function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){xe()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.initialSelectedVerseObjects,n=Object(r.useState)({}),o=u()(n,2),c=o[0],s=o[1],i=Object(r.useState)(""),a=u()(i,2),l=a[0],d=a[1],b=Object(r.useState)([]),j=u()(b,2),h=j[0],p=j[1],f=Object(r.useState)(!1),O=u()(f,2),x=O[0],C=O[1],v=Object(r.useState)(!1),P=u()(v,2),S=P[0],y=P[1],w=Object(r.useState)("CTCheeseman"),E=u()(w,2);E[0],E[1];Object(r.useEffect)((function(){var e=c.selectedVerses,t=Re(e)||"All";d(t),null!=c&&c.selectedVerses&&c.selectedVerses.length>0&&N()}),[null==c?void 0:c.selectedVerses]);var k=function(e){return c.selectedVerses.some((function(t){return t.equals(e)}))},N=function(){p(h.filter((function(e){return e.linkedVerses.some(k)}))),console.log("NotesPage: updating notes to match settings: ",c.selectedVerses),console.log("NotesPage: new notes: ",h.filter((function(e){return e.linkedVerses.some(k)})))};return Object(r.useEffect)((function(){var e;return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.awrap(Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be);case 1:case"end":return e.stop()}}),null,null,null,Promise));case 2:e=t.sent,p(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}),[]),Object(r.useEffect)((function(){return s(Ae(Ae({},c),{},{selectedVerses:t||[]}))}),[t]),Object(m.jsxs)(m.Fragment,{children:[!t&&Object(m.jsx)(H,{headingText:l}),Object(m.jsx)(g,{headingText:"My Notes",onFilterPress:!t&&function(){return y(!0)},onNewPress:function(){return C(!0)}}),Object(m.jsx)(R,{children:Object(m.jsx)(q.a,{scrollEnabled:"true",children:Object(m.jsx)(ke,{notes:h,deleteNote:function(e){p(h.filter((function(t){return t.id!==e})))}})})}),x&&Object(m.jsx)(ve,{setShouldShowDialog:C,onCancel:function(){return C(!1)},onSubmit:function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("NotesPage: creating note ",Ae({},e)),(t=U()(h)).push(Ae(Ae({},e),{},{id:h[h.length-1].id+1})),p(t);case 4:case"end":return n.stop()}}),null,null,null,Promise)}}),S&&Object(m.jsx)(De,{setShouldShowDialog:y,onCancel:function(){return y(!1)},filterSettings:c,setFilterSettings:s})]})},Ie=function(e){var t=e.initialSelectedVerses,n=Object(r.useState)(t),o=u()(n,2),c=o[0],s=(o[1],Object(r.useState)([])),i=u()(s,2),a=i[0],l=i[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H,{children:c}),Object(m.jsx)(g,{headingText:"Commentary"}),Object(m.jsx)(R,{children:Object(m.jsx)(q.a,{scrollEnabled:"true",children:Object(m.jsx)(ke,{notes:a,deleteNote:function(e){l(a.filter((function(t){return t.id!==e})))}})})})]})};var Me=new function(){for(var e=0;e<arguments.length;++e)this[arguments[e]]=e;return this}("NOTES_PAGE","COMMENTARY_PAGE","VERSE_SELECTED_OPTIONS"),ze=Object(i.a)(),Je=[{name:"Profile",component:function(){var e=Object(r.useState)(!1),t=u()(e,2),n=t[0],o=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H,{headingText:"Top o' the profile page to you, laddies"}),Object(m.jsx)(g,{headingText:"Profile"}),Object(m.jsxs)(R,{children:[Object(m.jsx)(S,{label:"Username",onSubmit:function(e){console.log("Profile page submitting new username:",e)},initialValue:"Cheeseyman",inputComponent:k}),Object(m.jsxs)(T,{label:"Personas",children:[Object(m.jsx)(S,{label:"Gospel Doctrine",onSubmit:function(e){console.log("Profile page submitting new gospel persona:",e)},initialValue:"undecided",inputComponent:V,inputComponentProps:[[{label:"Undecided",value:"undecided"},{label:"Grace",value:"grace"},{label:"Grace Plus Response",value:"gracePlusResponse"},{label:"Not Listed",value:"notListed"}]]}),Object(m.jsx)(S,{label:"Affiliation",onSubmit:function(e){console.log("Profile page submitting new affiliation:",e)},initialValue:"mormon",inputComponent:V,inputComponentProps:[[{label:"Undecided",value:"undecided"},{label:"Church of Jesus Christ (Mormon)",value:"mormon"},{label:"Protestant",value:"protestant"},{label:"Not Listed",value:"notListed"}]]})]}),Object(m.jsx)(F,{onPress:function(){o(!0)},children:"Delete Profile"})]}),n&&Object(m.jsx)(G,{title:"Delete Profile?",description:"Your public notes will remain. There's nothing you can do about this. Mwahaha <3",shouldShowDialog:n,setShouldShowDialog:o,onConfirm:function(){alert("Profile deleted! This will be a toast snack in the future")}})]})},tabBarLabel:"Profile",icon:"account"},{name:"Reading",component:function(){var e=Object(r.useState)("Matthew"),t=u()(e,2),n=t[0],o=t[1],c=Object(r.useState)(1),s=u()(c,2),i=s[0],a=s[1],l=Object(r.useState)([]),d=u()(l,2),b=d[0],j=d[1],h=Object(r.useState)(new Set),p=u()(h,2),f=p[0],O=p[1],g=Object(r.useState)(!1),C=u()(g,2),P=C[0],S=C[1],y=Object(r.useState)(""),w=u()(y,2),E=w[0],k=w[1],N=Object(r.useState)(!0),V=u()(N,2),T=V[0],D=V[1],B=Object(r.useState)(),L=u()(B,2),A=L[0],F=L[1],M=Object(r.useState)(),z=u()(M,2),J=z[0],G=z[1],_=Object(r.useState)([]),W=u()(_,2),Z=W[0],X=W[1];Object(r.useEffect)((function(){X(Array.from(f).sort())}),[f]);var $=function(){D(!0),ae(),F(Me.VERSE_SELECTED_OPTIONS)},ee=function(){return D((function(e){return!e}))};Object(r.useEffect)((function(){console.log("\tbook name: "+n+" chapter: "+i),function(){var e,t,r;Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("\tbook name: "+n+" chapter: "+i),o.prev=1,n&&i){o.next=4;break}return o.abrupt("return");case 4:return console.log("fetching verses with book ",n," and chapter ",i),e="https://staging-relay-bible.herokuapp.com/api/verses/"+n.replaceAll(" ","-")+"/"+i,console.log("req url: ",e),o.next=9,Y.a.awrap(K.a.get(e));case 9:t=o.sent,(r=null!=t&&t.data?t.data:null)?(j(r),k(n+" "+i)):console.log("error. res: ",JSON.stringify(t)),o.next=18;break;case 14:o.prev=14,o.t0=o.catch(1),console.log("Selection "+n+" "+i+" is not part of the current data set"),console.log(o.t0);case 18:case"end":return o.stop()}}),null,null,[[1,14]],Promise)}()}),[n,i]);var te=function(e){return f.has(e)},ne=function(e){te(e.number)?ce(e.number):re(e.number)},re=function(e){var t=new Set(f);t.add(e),O(t)},ce=function(e){var t=new Set(f);t.delete(e),O(t)},ae=function(){O(new Set)};return Object(r.useEffect)((function(){F(Me.VERSE_SELECTED_OPTIONS)}),[]),Object(r.useEffect)((function(){var e=Z.map((function(e){return me(n,i,e)})),t=Re(e);G(t)}),[n,i,Z]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(I.a,{children:[Object(m.jsx)(H,{customHeadingComponent:Object(m.jsx)(Q,{label:E,onPress:function(){return S(!0)}})}),Object(m.jsx)(oe,{visible:P,setVisible:S,onChapterSelect:function(e){var t=e.book,n=e.chapter;o(t),a(n),ae()},initialBookName:n,initialChapterNumber:i}),Object(m.jsx)(R,{customPageStyle:x.readingPage,children:Object(m.jsx)(q.a,{scrollEnabled:"true",children:Object(m.jsx)(v.a,{children:b&&b.map((function(e,t){return Object(m.jsx)(se,{verseNumber:t+1,verseText:e.bible_text,isSelected:te(t+1),onVersePress:ne},"v"+t)}))})})}),Object(m.jsxs)(ie,{isOpen:f.size>0,minimize:T,children:[A===Me.VERSE_SELECTED_OPTIONS&&Object(m.jsx)(fe,{headerText:J,onClosePress:$,children:Object(m.jsx)(le,{onRelatedCommentaryPress:function(){F(Me.COMMENTARY_PAGE)},onRelatedNotesPress:function(){F(Me.NOTES_PAGE)}})}),A===Me.NOTES_PAGE&&Object(m.jsx)(fe,{headerText:J,onClosePress:$,onExpandPress:ee,children:Object(m.jsx)(Fe,{initialSelectedVerseObjects:U()(f).map((function(e){return me(n,i,e)}))})}),A===Me.COMMENTARY_PAGE&&Object(m.jsx)(fe,{headerText:J,onClosePress:$,onExpandPress:ee,children:Object(m.jsx)(Ie,{initialSelectedVerses:f})})]})]})})},tabBarLabel:"Bible",icon:"book"},{name:"Notes",component:Fe,tabBarLabel:"Notes",icon:"pencil"},{name:"Commentary",component:Ie,tabBarLabel:"Commentary",icon:"comment"}],Ge=function(){return Object(m.jsx)(ze.Navigator,{initialRouteName:"Reading",barStyle:{backgroundColor:"#eee"},children:Je.map((function(e){return Object(m.jsx)(ze.Screen,{name:e.name,component:e.component,options:{tabBarLabel:e.tabBarLabel,tabBarIcon:function(t){var n=t.color;return Object(m.jsx)(a.default,{name:e.icon,color:n,size:26})}}},e.name)}))})};function He(){return Object(m.jsx)(s.a,{children:Object(m.jsx)(c.a,{style:_e.container,children:Object(m.jsx)(Ge,{})})})}var _e=o.a.create({container:{flex:1}})},180:function(e,t,n){e.exports=n(244)}},[[180,1,2]]]);
//# sourceMappingURL=app.85a4b303.chunk.js.map